<html>

<head>
    <meta charset="utf-8">
    <script src="data.js"></script>
    <script src="covergen.js"></script>
    <script src="drag_element.js"></script>
    <script src="html2canvas.min.js"></script>
    <link rel="stylesheet" href="covergen.css">
    <!-- <link rel="stylesheet" href="datepicker.css"> -->
</head>

<h3>投稿封面生成工具 v0.5</h3>

<!-- "drag and drop to upload" area  -->
<div id="drop-area" class="dashed-box">
    <table>
        <tr>
            <td>
                <label class="button" for="file-selector-hidden">1. 上传图片</label>
                <p>或直接拖拽到这里（可多选）</p>
                <input type="file" id="file-selector-hidden" multiple accept="image/*" onchange="handleFiles(this.files)">
            </td>
            <td>
                <div id="gallery" > </div>
            </td>
        </tr>
    </table>
</div>
<script src="drag_upload.js"></script>

<!-- date selector -->
<br />
<div class="dashed-box">
    <label for='calendar-selection' class="button" onclick="autoFillDate()">2. 选择日期</label> 
    <br> <br>
    <input id='calendar-selection' type="date" oninput="updateCalendar(this.value)" onchange="updateCalendar(this.value)">
</div>

<!-- <div>
    <label for='calendar-selection'>成员缩写：</label>
    <input id='members-abbr' type="input" placeholder="sxr zds yby" oninput="updateSuggestions()" onchange="updateSuggestions()">
</div>

<div>
    <label for='calendar-selection'>建议标题：</label>
    <textarea id="suggestion-title" cols="40" rows="5">在上面输入成员名或缩写 自动生成投稿标题</textarea>
</div>

<div>
    <label for='suggestion-summary'>建议简介：</label>
    <textarea id="suggestion-summary" cols="40" rows="5">在上面输入成员名或缩写 自动生成投稿简介</textarea>
</div> -->
<!--
<label for='calendar-selector'>Date: </label>
<input id="calendar-selector" value="" onchange='updateCalendar(this.value)' />
<script src="datepicker.js"></script>
<script>
    let picker = datepicker(document.getElementById('calendar-selector'));
</script>
-->


<!-- add button (for debugging) & save button  -->

<!-- <input type="button" value="+" style="font-size: 16px; width: 50px" onclick="addSlot()"> -->
<br />

<div class="dashed-box">
    <label class="button" onclick="downloadAsPic()">3. 下载封面</label>
    <p>拖动物件可调整布局</p>
</div>
<!-- canvas area: resolution should be 1146 x 717 -->
<div id="canvas_container">
    <div id='calendar-div'>
        <p id="calendar-date"></p>
        <p id="calendar-month"></p>
    </div>

    <!-- decorations:  -->
    <img id='decor-coffee' src='decor-coffee.png' />
    <img id='decor-pen' src='decor-pen.png' />
    <img id='decor-pencil' src='decor-pencil.png' />
    <script>
        dragElement(document.getElementById('decor-coffee'));
        dragElement(document.getElementById('decor-pen'));
        dragElement(document.getElementById('decor-pencil'));
    </script>
</div>

</html>